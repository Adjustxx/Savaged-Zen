--- drivers/power/ds2784_battery.c
+++ drivers/power/ds2784_battery.c
@@ -449,7 +105,6 @@
 	 * we drop below 95%, to avoid confusing the
 	 * user while we're maintaining a full charge
 	 * (slowly draining to 95 and charging back
-
 	 * to 100)
 	 * Oddly, only Passion is for 99% cycles, HTC
 	 * set the Bravo to 95%.
@@ -462,18 +117,20 @@
 		di->status.battery_full = 0;
 	}
 
-	/* Changed this code if-statement back to stock because this
-	 * parameter is now user settable by changing the actual
-       * register value inside the battery chip EEPROM.
-	 * --RP
+	/* Modified check function, based on original HTC Source.
+         * Added current_uA check (relates to 1400mAh capacity check)
+	 * -od of xbravoteam
+	 *
+	 * replace current_uA <= 80 with current_avg_uA <= 40 
+         * - pershoot,dvgrhl,rogerpodacter
 	 */
 
-	if (di->status.status_reg & 0x80) {
+	if ((di->status.status_reg & 0x80) &&
+		((di->status.current_avg_uA/1000) <= 40) &&
+		(di->status.percentage == 100)) {
 		di->status.battery_full = 1;
 		charge_mode = CHARGE_BATT_DISABLE;
 	}
-	else
-		di->status.battery_full = 0;
 
 	if (temp >= TEMP_HOT) {
 		if (temp >= TEMP_CRITICAL)
